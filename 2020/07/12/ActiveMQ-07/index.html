<!DOCTYPE html>
<html lang="en">
<meta name="referrer" content="no-referrer"/>
<head>

<!-- 爆炸效果 -->
<canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
<script type="text/javascript" src="/js/firework.js"></script>


  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#222">
  <link rel="manifest" href="/images/manifest.json">
  <meta name="msapplication-config" content="/images/browserconfig.xml">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"52zhongneng.cn","root":"/","scheme":"Muse","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Apache ActiveMQ™ is the most popular open source, multi-protocol, Java-based messaging server. It supports industry standard protocols so users get the benefits of client choices across a broad range">
<meta property="og:type" content="article">
<meta property="og:title" content="ActiveMQ_07">
<meta property="og:url" content="https://52zhongneng.cn/2020/07/12/ActiveMQ-07/index.html">
<meta property="og:site_name" content="Eloise&#39;s Paradise">
<meta property="og:description" content="Apache ActiveMQ™ is the most popular open source, multi-protocol, Java-based messaging server. It supports industry standard protocols so users get the benefits of client choices across a broad range">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://52zhongneng.cn/2020/07/12/ActiveMQ-07/Startup.png">
<meta property="og:image" content="https://52zhongneng.cn/2020/07/12/ActiveMQ-07/MasterFailed.png">
<meta property="og:image" content="https://52zhongneng.cn/2020/07/12/ActiveMQ-07/image-20200212193653842.png">
<meta property="og:image" content="https://52zhongneng.cn/2020/07/12/ActiveMQ-07/image-20200212144259602.png">
<meta property="og:image" content="https://52zhongneng.cn/2020/07/12/ActiveMQ-07/10190bfe-30d7-3021-8bbe-9d7882530083.png">
<meta property="og:image" content="https://52zhongneng.cn/2020/07/12/ActiveMQ-07/image-20200212165236443.png">
<meta property="og:image" content="https://52zhongneng.cn/2020/07/12/ActiveMQ-07/image-20200212165658958.png">
<meta property="article:published_time" content="2020-07-12T03:52:16.000Z">
<meta property="article:modified_time" content="2022-07-06T03:20:36.649Z">
<meta property="article:author" content="Brooks.H.Joshua">
<meta property="article:tag" content="ActiveMQ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://52zhongneng.cn/2020/07/12/ActiveMQ-07/Startup.png">

<link rel="canonical" href="https://52zhongneng.cn/2020/07/12/ActiveMQ-07/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>ActiveMQ_07 | Eloise's Paradise</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div id="id-header-inner"  class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Eloise's Paradise</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags<span class="badge">35</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories<span class="badge">16</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives<span class="badge">106</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>
	<!-- 改变css样式 -->
<script type="text/javascript">
var url = document.location.pathname;
var folderName = url.substr(1, url.length - 2)
console.log(folderName);

var listPostUrl = [
    "/" + folderName + "/" + "post-banner.png",
    "/" + folderName + "/" + "post-banner.jpg",
];

var nSuccessCount = 0;
var nResponceCount = 0;
function OnHttpResponse(bSuccess, strUrl) {
    console.log("OnHttpResponse: " + bSuccess + ", " + strUrl);
    nResponceCount++;
    if(nSuccessCount > 0){
        return;
    }
    if(bSuccess) {
        nSuccessCount++;
        document.getElementById("id-header-inner").style.backgroundImage = "url(" + strUrl + ")";
    }
    if(nResponceCount >= listPostUrl.length && nSuccessCount <= 0){
        // 使用默认图
        document.getElementById("id-header-inner").style.backgroundImage = "url(/images/background.jpg)";
    }
}

function changeBanner(strPostUrl, nIndex){
    console.log("try to load" + strPostUrl);
    var xmlhttp;
    if (window.XMLHttpRequest)
    {
        //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
        xmlhttp=new XMLHttpRequest();
    }
    else
    {
        // IE6, IE5 浏览器执行代码
        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange=function()
    {
        if (xmlhttp.readyState==4 && xmlhttp.status==200)
        {
            OnHttpResponse(true, strPostUrl);
        } else {
            OnHttpResponse(false, strPostUrl);
        }
    }
    xmlhttp.open("HEAD",strPostUrl,true);
    xmlhttp.send();
}

listPostUrl.forEach(changeBanner);
</script>



    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://52zhongneng.cn/2020/07/12/ActiveMQ-07/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Brooks.H.Joshua">
      <meta itemprop="description" content="Less Is More">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eloise's Paradise">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ActiveMQ_07
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-12 11:52:16" itemprop="dateCreated datePublished" datetime="2020-07-12T11:52:16+08:00">2020-07-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-07-06 11:20:36" itemprop="dateModified" datetime="2022-07-06T11:20:36+08:00">2022-07-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MQ/" itemprop="url" rel="index">
                    <span itemprop="name">MQ</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>13k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>12 mins.</span>
            </span>


           
          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>Apache ActiveMQ™ is the most popular <strong>open source, multi-protocol, Java-based messaging server</strong>. It supports industry standard protocols so users get the benefits of client choices across a broad range of languages and platforms. Connectivity from C, C++, Python, .Net, and more is available. Integrate your multi-platform applications using the ubiquitous <strong>AMQP</strong> protocol. Exchange messages between your web applications using <strong>STOMP</strong> over websockets. Manage your IoT devices using <strong>MQTT</strong>. Support your existing <strong>JMS</strong> infrastructure and beyond. ActiveMQ offers the power and flexibility to support any messaging use-case.</p>
<p>There are currently two “flavors” of ActiveMQ available - the “classic” 5.x broker and the “next generation” Artemis broker. Once Artemis reaches a sufficient level of feature parity with the 5.x code-base it will become ActiveMQ 6. Initial <a href="http://activemq.apache.org/components/artemis/migration" target="_blank" rel="noopener">migration documentation</a> is available.</p>
<a id="more"></a>





<h1 id="Active-MQ-07"><a href="#Active-MQ-07" class="headerlink" title="Active MQ 07"></a>Active MQ 07</h1><h2 id="集群配置"><a href="#集群配置" class="headerlink" title="集群配置"></a>集群配置</h2><p><strong>官方文档</strong></p>
<p><a href="http://activemq.apache.org/clustering" target="_blank" rel="noopener">http://activemq.apache.org/clustering</a></p>
<h3 id="主备集群"><a href="#主备集群" class="headerlink" title="主备集群"></a>主备集群</h3><p><a href="http://activemq.apache.org/masterslave.html" target="_blank" rel="noopener">http://activemq.apache.org/masterslave.html</a></p>
<table>
<thead>
<tr>
<th>Master Slave Type</th>
<th>Requirements</th>
<th>Pros</th>
<th>Cons</th>
</tr>
</thead>
<tbody><tr>
<td><a href="http://activemq.apache.org/shared-file-system-master-slave" target="_blank" rel="noopener">Shared File System Master Slave</a></td>
<td>A shared file system such as a SAN</td>
<td>Run as many slaves as required. Automatic recovery of old masters</td>
<td>Requires shared file system</td>
</tr>
<tr>
<td><a href="http://activemq.apache.org/jdbc-master-slave" target="_blank" rel="noopener">JDBC Master Slave</a></td>
<td>A Shared database</td>
<td>Run as many slaves as required. Automatic recovery of old masters</td>
<td>Requires a shared database. Also relatively slow as it cannot use the high performance journal</td>
</tr>
<tr>
<td><a href="http://activemq.apache.org/replicated-Features/PersistenceFeatures/Persistence/Features/Persistence/leveldb-store" target="_blank" rel="noopener">Replicated LevelDB Store</a></td>
<td>ZooKeeper Server</td>
<td>Run as many slaves as required. Automatic recovery of old masters. Very fast.</td>
<td>Requires a ZooKeeper server.</td>
</tr>
</tbody></table>
<h4 id="Shared-File-System-Master-Slave"><a href="#Shared-File-System-Master-Slave" class="headerlink" title="Shared File System Master Slave"></a>Shared File System Master Slave</h4><p>基于共享存储的Master-Slave；多个broker共用同一数据源，谁拿到锁谁就是master,其他处于待启动状态，如果master挂掉了，某个抢到文件锁的slave变成master</p>
<p><strong>启动后</strong></p>
<p><img src="/2020/07/12/ActiveMQ-07/Startup.png" alt="img"></p>
<p><strong>Master宕机</strong></p>
<p><img src="/2020/07/12/ActiveMQ-07/MasterFailed.png" alt="img"></p>
<p><strong>Master重启</strong></p>
<p><img src="/2020/07/12/ActiveMQ-07/image-20200212193653842.png" alt="image-20200212193653842"></p>
<p><strong>JDBC Master Slave</strong></p>
<p>基于JDBC的Master-Slave:使用同一个数据库，拿到LOCK表的写锁的broker成为master.</p>
<p>性能较低，不能使用高性能日志</p>
<p><strong>Replicated LeveDB Store</strong></p>
<p>基于zookeeper复制LeveDB存储的Master-Slave机制</p>
<p><strong>配置步骤</strong></p>
<ol>
<li>修改broker名称</li>
<li>修改数据源<ol>
<li>如果使用kahadb，配置相同路径</li>
<li>如果使用mysql 使用同一数据源（同一数据库和表）</li>
</ol>
</li>
</ol>
<p><strong>尝试</strong></p>
<p><img src="/2020/07/12/ActiveMQ-07/image-20200212144259602.png" alt="image-20200212144259602"></p>
<p><a href="http://activemq.apache.org/failover-transport-reference.html" target="_blank" rel="noopener">http://activemq.apache.org/failover-transport-reference.html</a></p>
<h4 id="failover-故障转移协议"><a href="#failover-故障转移协议" class="headerlink" title="failover 故障转移协议"></a>failover 故障转移协议</h4><p>断线重连机制是ActiveMQ的高可用性具体体现之一。ActiveMQ提供failover机制去实现断线重连的高可用性，可以使得连接断开之后，不断的重试连接到一个或多个brokerURL。</p>
<p>默认情况下，如果client与broker直接的connection断开，则client会新起一个线程，不断的从url参数中获取一个url来重试连接。</p>
<p>配置语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ActiveMQConnectionFactory connectionFactory = <span class="keyword">new</span> ActiveMQConnectionFactory(</span><br><span class="line">		<span class="string">"admin"</span>,</span><br><span class="line">		<span class="string">"admin"</span>,</span><br><span class="line">		<span class="string">"failover:(nio://localhost:5671,nio://localhost:5672)"</span></span><br><span class="line">		);</span><br></pre></td></tr></table></figure>

<p><strong>可配置选项</strong></p>
<h4 id="Transport-Options"><a href="#Transport-Options" class="headerlink" title="Transport Options"></a>Transport Options</h4><table>
<thead>
<tr>
<th>Option Name</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>backup</code></td>
<td><code>false</code></td>
<td>Initialize and hold a second transport connection - to enable fast failover.</td>
</tr>
<tr>
<td><code>initialReconnectDelay</code></td>
<td><code>10</code></td>
<td>The delay (in ms) before the <em>first</em> reconnect attempt.</td>
</tr>
<tr>
<td><code>maxCacheSize</code></td>
<td><code>131072</code></td>
<td>Size in bytes for the cache of tracked messages. Applicable only if <code>trackMessages</code> is <code>true</code>.</td>
</tr>
<tr>
<td><code>maxReconnectAttempts</code></td>
<td>`-1</td>
<td>0`</td>
</tr>
<tr>
<td><code>maxReconnectDelay</code></td>
<td><code>30000</code></td>
<td>The maximum delay (in ms) between the <em>second and subsequent</em> reconnect attempts.</td>
</tr>
<tr>
<td><code>nested.*</code></td>
<td><code>null</code></td>
<td><strong>From ActiveMQ 5.9:</strong> common URI options that will be applied to each URI in the list<strong>.</strong></td>
</tr>
<tr>
<td><code>randomize</code></td>
<td><code>true</code></td>
<td>If <code>true</code>, choose a URI at random from the list to use for reconnect.</td>
</tr>
<tr>
<td><code>reconnectDelayExponent</code></td>
<td><code>2.0</code></td>
<td>The exponent used during exponential back-off attempts.</td>
</tr>
<tr>
<td><code>reconnectSupported</code></td>
<td><code>true</code></td>
<td>Determines whether the client should respond to broker <code>ConnectionControl</code> events with a reconnect (see: <code>rebalanceClusterClients</code>).</td>
</tr>
<tr>
<td><code>startupMaxReconnectAttempts</code></td>
<td><code>-1</code></td>
<td>A value of <code>-1</code> denotes that the number of connection attempts at startup should be unlimited. A value of <code>&gt;=0</code> denotes the number of reconnect attempts at startup that will be made after which an error is sent back to the client when the client makes a subsequent reconnect attempt. <strong>Note</strong>: once successfully connected the <code>maxReconnectAttempts</code> option prevails.</td>
</tr>
<tr>
<td><code>timeout</code></td>
<td><code>-1</code></td>
<td><strong>From ActiveMQ 5.3</strong>: set the timeout on send operations (in ms) without interruption of re-connection process.</td>
</tr>
<tr>
<td><code>trackMessages</code></td>
<td><code>false</code></td>
<td>Keep a cache of in-flight messages that will flushed to a broker on reconnect.</td>
</tr>
<tr>
<td><code>updateURIsSupported</code></td>
<td><code>true</code></td>
<td><strong>From</strong> <strong>ActiveMQ 5.4:</strong> determines whether the client should accept updates from the broker to its list of known URIs.</td>
</tr>
<tr>
<td><code>updateURIsURL</code></td>
<td><code>null</code></td>
<td><strong>From ActiveMQ 5.4:</strong> a URL (or path to a local file) to a text file containing a comma separated list of URIs to use for reconnect in the case of failure.</td>
</tr>
<tr>
<td><code>useExponentialBackOff</code></td>
<td><code>true</code></td>
<td>If <code>true</code> an exponential back-off is used between reconnect attempts.</td>
</tr>
<tr>
<td><code>warnAfterReconnectAttempts</code></td>
<td><code>10</code></td>
<td><strong>From ActiveMQ 5.10:</strong> a value <code>&gt;0</code> specifies the number of reconnect attempts before a warning is logged. A logged warning indicates that there is no current connection but re-connection is being attempted. A value of <code>&lt;=0</code> disables the logging of warnings about reconnect attempts.</td>
</tr>
</tbody></table>
<p><strong>backup</strong></p>
<p>初始化的时候创建第二个连接，快速故障转移</p>
<p><strong>initialReconnectDelay</strong></p>
<p>第一次重试延迟</p>
<p><strong>trackMessages</strong></p>
<p>设置是否缓存（故障发生时）尚未传送完成的消息，当broker一旦重新连接成功，便将这些缓存中的消息刷新到新连接的代理中，使得消息可以在broker切换前后顺利传送。默认false</p>
<p><strong>maxCacheSize</strong></p>
<p>当trackMessage启动时，缓存的最大子字节数</p>
<p><strong>maxReconnectAttempts</strong></p>
<p>默认1|0，自5.6版本开始，-1为默认值，代表不限重试次数，0标识从不重试（只尝试连接一次，并不重连），5.6以前的版本，0为默认值，代表不重试，如果设置大于0的数，则代表最大重试次数。</p>
<p><strong>maxReconnectDelay</strong></p>
<p>最长重试间隔</p>
<p><strong>randomize</strong></p>
<p>使用随机连接，以达到负载均衡的目的，默认true</p>
<p>只配主备的情况下最好关闭</p>
<p><strong>startupMaxReconnectAttempts</strong></p>
<p>初始化时的最大重试次</p>
<p>“-1”表示在启动时连接尝试的次数是无限的。</p>
<p>‘ &gt;=0 ‘的值表示在启动时重新连接尝试的次数</p>
<p>一旦成功连接后续将使用“maxReconnectAttempts”选项</p>
<p><strong>timeout</strong></p>
<p>连接超时</p>
<p><strong>updateURIsSupported</strong></p>
<p>是否可以动态修改broker uri</p>
<p><strong>updateURIsURL</strong></p>
<p>指定动态修改地址的路径</p>
<p><strong>useExponentialBackOff</strong></p>
<p>重连时间间隔是否以指数形式增长</p>
<p><strong>reconnectDelayExponent</strong></p>
<p>指数增长时的指数</p>
<p><strong>warnAfterReconnectAttempts</strong></p>
<p>重连日志记录</p>
<h3 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h3><p><strong>官方文档</strong></p>
<p><a href="http://activemq.apache.org/networks-of-brokers.html" target="_blank" rel="noopener">http://activemq.apache.org/networks-of-brokers.html</a></p>
<h4 id="静态网络配置"><a href="#静态网络配置" class="headerlink" title="静态网络配置"></a>静态网络配置</h4><p><img src="/2020/07/12/ActiveMQ-07/10190bfe-30d7-3021-8bbe-9d7882530083.png" alt="img"></p>
<p>在broker节点下配置networkConnectors</p>
<ul>
<li>networkConnectors（网络连接器）主要用来配置ActiveMQ服务端与服务端之间的通信</li>
<li>TransportConnector（传输连接器）主要用于配置ActiveMQ服务端和客户端之间的通信方式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;networkConnectors&gt;</span><br><span class="line">  &lt;networkConnector duplex&#x3D;&quot;true&quot; name&#x3D;&quot;amq-cluster&quot; uri&#x3D;&quot;static:failover:&#x2F;&#x2F;(nio:&#x2F;&#x2F;localhost:5671,nio:&#x2F;&#x2F;localhost:5672)&quot;  &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;networkConnectors&gt;</span><br></pre></td></tr></table></figure>

<p>参与的节点都需要修改</p>
<p>注意如果单机启动多个节点，记得修改端口避免冲突</p>
<p>启动成功后<code>Connections</code>中会有其他节点</p>
<p><img src="/2020/07/12/ActiveMQ-07/image-20200212165236443.png" alt="image-20200212165236443"></p>
<p><code>Network</code>中也会显示桥接连接</p>
<p><img src="/2020/07/12/ActiveMQ-07/image-20200212165658958.png" alt="image-20200212165658958"></p>
<p>负载均衡的环境下，broker上的消息优先给在本地连接的consumer</p>
<p>当networkerConnector与remote Broker建立链接之后，那么remote Broker将会向local Broker交付订阅信息，包括remote broker持有的destinations、Consumers、持久订阅者列表等；那么此后local Broker将把remote Broker做一个消息“订阅者”</p>
<p><strong>Advisory</strong></p>
<p>ActiveMQ提供了“Advisory”机制，通常ActiveMQ内部将某些事件作为“advisory”在全局广播，比如destination的创建、consumer的加入、DLQ的产生等，这将额外的消耗极小的性能；我们可以在ActiveMQ的监控页面上看到影响的消息，开发者也可以View这些消息(通道名称以“ActiveMQ.Advisory.”开头)。对于分布式网络中的broker，将严重依赖“Advisory”，特别是“dynamic network”，默认已开启</p>
<p>在一个broker上发生事件，都会以“通知”的方式发送给配置文件中指定的所有networkConnector</p>
<p><strong>Dynamic networks</strong></p>
<p>“动态网络”表明当remote Broker持有通道的消费者时，local Broker才会转发相应的消息；此时我们需要开启advisorySupport。当remote broker上有Consumer创建时，Advisory中将会广播消息，消息为ConsumerInfo类型，它将包括consumer所在的broker path，如果local broker与此path建立了networkConnector，那么此后local Broker将会启动响应的消息转发。</p>
<p><strong>Static networks</strong></p>
<p>  相对于“动态网络”而言，“静态网络”将不依赖Advisory，在任何时候，即使remote Broker中没有相应的consumer，消息也将转发给remote Broker</p>
<p>将brokers作为简单代理并转发消息到远端而不管是否有消费者</p>
<h4 id="可配置属性"><a href="#可配置属性" class="headerlink" title="可配置属性"></a>可配置属性</h4><h5 id="URI的几个属性"><a href="#URI的几个属性" class="headerlink" title="URI的几个属性"></a>URI的几个属性</h5><table>
<thead>
<tr>
<th>property</th>
<th>default</th>
<th>description</th>
</tr>
</thead>
<tbody><tr>
<td>initialReconnectDelay</td>
<td>1000</td>
<td>time(ms) to wait before attempting a reconnect (if useExponentialBackOff is false)</td>
</tr>
<tr>
<td>maxReconnectDelay</td>
<td>30000</td>
<td>time(ms) to wait before attempting to re-connect</td>
</tr>
<tr>
<td>useExponentialBackOff</td>
<td>true</td>
<td>increases time between reconnect for every failure in a reconnect sequence</td>
</tr>
<tr>
<td>backOffMultiplier</td>
<td>2</td>
<td>multipler used to increase the wait time if using exponential back off</td>
</tr>
</tbody></table>
<h5 id="NetworkConnector-Properties"><a href="#NetworkConnector-Properties" class="headerlink" title="NetworkConnector Properties"></a>NetworkConnector Properties</h5><table>
<thead>
<tr>
<th>property</th>
<th>default</th>
<th>description</th>
</tr>
</thead>
<tbody><tr>
<td>name</td>
<td>bridge</td>
<td>name of the network - for more than one network connector between the same two brokers - use different names</td>
</tr>
<tr>
<td>dynamicOnly</td>
<td>false</td>
<td>if true, only activate a networked durable subscription when a corresponding durable subscription reactivates, by default they are activated on startup.</td>
</tr>
<tr>
<td>decreaseNetworkConsumerPriority</td>
<td>false</td>
<td>if true, starting at priority -5, decrease the priority for dispatching to a network Queue consumer the further away it is (in network hops) from the producer. When false all network consumers use same default priority(0) as local consumers</td>
</tr>
<tr>
<td>networkTTL</td>
<td>1</td>
<td>the number of brokers in the network that messages and subscriptions can pass through (sets both message&amp;consumer -TTL)</td>
</tr>
<tr>
<td>messageTTL</td>
<td>1</td>
<td>(version 5.9) the number of brokers in the network that messages can pass through</td>
</tr>
<tr>
<td>consumerTTL</td>
<td>1</td>
<td>(version 5.9) the number of brokers in the network that subscriptions can pass through (keep to 1 in a mesh)</td>
</tr>
<tr>
<td>conduitSubscriptions</td>
<td>true</td>
<td>multiple consumers subscribing to the same destination are treated as one consumer by the network</td>
</tr>
<tr>
<td>excludedDestinations</td>
<td>empty</td>
<td>destinations matching this list won’t be forwarded across the network (this only applies to dynamicallyIncludedDestinations)</td>
</tr>
<tr>
<td>dynamicallyIncludedDestinations</td>
<td>empty</td>
<td>destinations that match this list <strong>will</strong> be forwarded across the network <strong>n.b.</strong> an empty list means all destinations not in the exluded list will be forwarded</td>
</tr>
<tr>
<td>useVirtualDestSubs</td>
<td>false</td>
<td>if true, the network connection will listen to advisory messages for virtual destination consumers</td>
</tr>
<tr>
<td>staticallyIncludedDestinations</td>
<td>empty</td>
<td>destinations that match will always be passed across the network - even if no consumers have ever registered an interest</td>
</tr>
<tr>
<td>duplex</td>
<td>false</td>
<td>if true, a network connection will be used to both produce <strong><em>AND\</em></strong> Consume messages. This is useful for hub and spoke scenarios when the hub is behind a firewall etc.</td>
</tr>
<tr>
<td>prefetchSize</td>
<td>1000</td>
<td>Sets the <a href="http://activemq.apache.org/what-is-the-prefetch-limit-for" target="_blank" rel="noopener">prefetch size</a> on the network connector’s consumer. It must be &gt; 0 because network consumers do not poll for messages</td>
</tr>
<tr>
<td>suppressDuplicateQueueSubscriptions</td>
<td>false</td>
<td>(from 5.3) if true, duplicate subscriptions in the network that arise from network intermediaries will be suppressed. For example, given brokers A,B and C, networked via multicast discovery. A consumer on A will give rise to a networked consumer on B and C. In addition, C will network to B (based on the network consumer from A) and B will network to C. When true, the network bridges between C and B (being duplicates of their existing network subscriptions to A) will be suppressed. Reducing the routing choices in this way provides determinism when producers or consumers migrate across the network as the potential for dead routes (stuck messages) are eliminated. networkTTL needs to match or exceed the broker count to require this intervention.</td>
</tr>
<tr>
<td>bridgeTempDestinations</td>
<td>true</td>
<td>Whether to broadcast advisory messages for created temp destinations in the network of brokers or not. Temp destinations are typically created for request-reply messages. Broadcasting the information about temp destinations is turned on by default so that consumers of a request-reply message can be connected to another broker in the network and still send back the reply on the temporary destination specified in the JMSReplyTo header. In an application scenario where most/all messages use request-reply pattern, this will generate additional traffic on the broker network as every message typically sets a unique JMSReplyTo address (which causes a new temp destination to be created and broadcasted via an advisory message in the network of brokers). When disabling this feature such network traffic can be reduced but then producer and consumers of a request-reply message need to be connected to the same broker. Remote consumers (i.e. connected via another broker in your network) won’t be able to send the reply message but instead raise a “temp destination does not exist” exception.</td>
</tr>
<tr>
<td>alwaysSyncSend</td>
<td>false</td>
<td>(version 5.6) When true, non persistent messages are sent to the remote broker using request/reply in place of a oneway. This setting treats both persistent and non-persistent messages the same.</td>
</tr>
<tr>
<td>staticBridge</td>
<td>false</td>
<td>(version 5.6) If set to true, broker will not dynamically respond to new consumers. It will only use <code>staticallyIncludedDestinations</code> to create demand subscriptions</td>
</tr>
<tr>
<td>userName</td>
<td>null</td>
<td>The username to authenticate against the remote broker</td>
</tr>
<tr>
<td>password</td>
<td>null</td>
<td>The password for the username to authenticate against the remote broker</td>
</tr>
</tbody></table>
<p><strong>name</strong></p>
<p>相同的名称会被添加到同一集群中</p>
<p><strong>dynamicOnly</strong></p>
<p>是否直接转发，设置成true的话 broker会在没有消费者的时候不去转发消息</p>
<p><strong>decreaseNetworkConsumerPriority</strong></p>
<p>如果为true，网络的消费者优先级降低为-5。如果为false，则默认跟本地消费者一样为0.</p>
<p><strong>networkTTL</strong> <strong>messageTTL</strong> <strong>consumerTTL</strong></p>
<p>消息和订阅在网络中被broker转发（穿过）的最大次数，消息在网络中每转发一次，都会将TTL-1</p>
<p><strong>conduitSubscriptions</strong></p>
<p>多个消费者消费消息被当作一个消费者</p>
<p><strong>excludedDestinations</strong></p>
<p>在这个名单中的Destination不会在网络中被转发</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">excludedDestinaitons</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">queue</span> <span class="attr">physicalName</span>=<span class="string">"include.test.foo"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">topic</span> <span class="attr">physicalName</span>=<span class="string">"include.test.bar"</span>/&gt;</span></span><br><span class="line">　<span class="tag">&lt;/<span class="name">excludedDestinaitons</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>dynamicallyIncludedDestinations</strong></p>
<p>通过网络转发的destinations，注意空列表代表所有的都转发。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">　<span class="tag">&lt;<span class="name">dynamicallyIncludeDestinaitons</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">queue</span> <span class="attr">physicalName</span>=<span class="string">"include.test.foo"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">topic</span> <span class="attr">physicalName</span>=<span class="string">"include.test.bar"</span>/&gt;</span></span><br><span class="line">　<span class="tag">&lt;/<span class="name">dynamicallyIncludeDestinaitons</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>useVirtualDestSubs</strong></p>
<p>开启此选项会在转发消息时</p>
<p><strong>staticallyIncludedDestinations</strong></p>
<p>匹配的目的地将始终通过网络传递——即使没有消费者对此感兴趣 对应静态networks</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">staticallyIncludeDestinaitons</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">queue</span> <span class="attr">physicalName</span>=<span class="string">"aways.include.queue"</span>/&gt;</span></span><br><span class="line">　<span class="tag">&lt;/<span class="name">staticallyIncludeDestinaitons</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>duplex</strong></p>
<p>是否允许双向连接<strong>如果该属性为true，当这个节点使用Network Bridge连接到其它目标节点后，将强制目标也建立Network Bridge进行反向连接</strong></p>
<p><strong>prefetchSize</strong></p>
<p>缓冲消息大小，必须大于0，不会主动拉取消息</p>
<p><strong>suppressDuplicateQueueSubscriptions</strong></p>
<p>如果为true, 重复的订阅关系一产生即被阻止。</p>
<p><strong>bridgeTempDestinations</strong></p>
<p>是否转发临时destination，禁用后再使用request/reply模型的时候客户端需要连接到同一broker，不然会找不到destination</p>
<p><strong>alwaysSyncSend</strong></p>
<p>开启后转发非持久化消息会使用request/reply模型</p>
<p><strong>staticBridge</strong></p>
<p>如果设置为true，则代理将不会动态响应新的consumer，只能使用staticallyIncludedDestinations中的destination</p>
<p><strong>userName</strong> <strong>password</strong></p>
<p>连接broker时的用户名和密码</p>
<h4 id="动态网络配置"><a href="#动态网络配置" class="headerlink" title="动态网络配置"></a>动态网络配置</h4><p><strong>官方文档</strong></p>
<p><a href="http://activemq.apache.org/multicast-transport-reference" target="_blank" rel="noopener">http://activemq.apache.org/multicast-transport-reference</a></p>
<p>使用multicast协议，可以指定组播地址或使用<code>multicast://default</code>（239.255.2.3）</p>
<p>配置<code>networkConnectors</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">networkConnectors</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">networkConnector</span> <span class="attr">uri</span>=<span class="string">"multicast://239.0.0.5"</span> <span class="attr">duplex</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">networkConnectors</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>broker启动后会使用udp协议向组播地址发送数据报文以便让其他在这个组播地址的节点感知到自己的存在</p>
<p>每个UDP数据报中，包含的主要信息包括本节点ActiveMQ的版本信息，以及连接到自己所需要使用的host名字、协议名和端口信息。</p>
<p>配置<code>transportConnector</code>指明将哪一个连接通过UDP数据报向其他ActiveMQ节点进行公布，就需要在transportConnector标签上使用discoveryUri属性进行标识</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transportConnector</span> <span class="attr">name</span>=<span class="string">"auto+nio"</span> <span class="attr">uri</span>=<span class="string">"auto+nio://localhost:5672"</span> <span class="attr">discoveryUri</span>=<span class="string">"multicast://239.0.0.5"</span>/&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="消息回流"><a href="#消息回流" class="headerlink" title="消息回流"></a>消息回流</h3><p>在消息转发的时候，remote broker转发Local broker的消息会消费掉LocalBroker的消息</p>
<p>那么在转发的过程中，消息在被拉取后和发送给consumer的过程中重启的话会造成消息丢失</p>
<p><code>replayWhenNoConsumers</code> 选项可以使remote broke上有需要转发的消息但是没有被消费时，把消息回流到它原始的broker.同时把enableAudit设置为false,为了防止消息回流后被当作重复消息而不被分发</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">　　　　 <span class="tag">&lt;<span class="name">destinationPolicy</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">policyMap</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">policyEntries</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">policyEntry</span> <span class="attr">queue</span>=<span class="string">"&gt;"</span> <span class="attr">enableAudit</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">networkBridgeFilterFactory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">conditionalNetworkBridgeFilterFactory</span> <span class="attr">replayWhenNoConsumers</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">networkBridgeFilterFactory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">policyEntry</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">policyEntries</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">policyMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">destinationPolicy</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="消息副本"><a href="#消息副本" class="headerlink" title="消息副本"></a>消息副本</h3><p><a href="http://activemq.apache.org/replicated-message-store" target="_blank" rel="noopener">http://activemq.apache.org/replicated-message-store</a></p>

    </div>



<div>
  
    <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
</div>


  
</div>




    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Brooks.H.Joshua
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://52zhongneng.cn/2020/07/12/ActiveMQ-07/" title="ActiveMQ_07">https://52zhongneng.cn/2020/07/12/ActiveMQ-07/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/ActiveMQ/" rel="tag"><i class="fa fa-tag"></i>ActiveMQ</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/07/12/ActiveMQ-06/" rel="prev" title="ActiveMQ_06">
      <i class="fa fa-chevron-left"></i> ActiveMQ_06
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/07/12/jt-day01/" rel="next" title="Jt_day01">
      Jt_day01 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
 


 <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Active-MQ-07"><span class="nav-number">1.</span> <span class="nav-text">Active MQ 07</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#集群配置"><span class="nav-number">1.1.</span> <span class="nav-text">集群配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#主备集群"><span class="nav-number">1.1.1.</span> <span class="nav-text">主备集群</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Shared-File-System-Master-Slave"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">Shared File System Master Slave</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#failover-故障转移协议"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">failover 故障转移协议</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Transport-Options"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">Transport Options</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#负载均衡"><span class="nav-number">1.1.2.</span> <span class="nav-text">负载均衡</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#静态网络配置"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">静态网络配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#可配置属性"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">可配置属性</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#URI的几个属性"><span class="nav-number">1.1.2.2.1.</span> <span class="nav-text">URI的几个属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#NetworkConnector-Properties"><span class="nav-number">1.1.2.2.2.</span> <span class="nav-text">NetworkConnector Properties</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#动态网络配置"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">动态网络配置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#消息回流"><span class="nav-number">1.1.3.</span> <span class="nav-text">消息回流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#消息副本"><span class="nav-number">1.1.4.</span> <span class="nav-text">消息副本</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->



      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Brooks.H.Joshua"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Brooks.H.Joshua</p>
  <div class="site-description" itemprop="description">Less Is More</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">106</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://spring.io/blog" title="https:&#x2F;&#x2F;spring.io&#x2F;blog" rel="noopener" target="_blank">Spring官博</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://leetcode-cn.com/" title="https:&#x2F;&#x2F;leetcode-cn.com&#x2F;" rel="noopener" target="_blank">LeetCode</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://www.itboyhub.com/" title="http:&#x2F;&#x2F;www.itboyhub.com&#x2F;" rel="noopener" target="_blank">JavaBoy</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.cs.usfca.edu/~galles/visualization/Algorithms.html" title="https:&#x2F;&#x2F;www.cs.usfca.edu&#x2F;~galles&#x2F;visualization&#x2F;Algorithms.html" rel="noopener" target="_blank">DSV</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://visualgo.net/zh" title="https:&#x2F;&#x2F;visualgo.net&#x2F;zh" rel="noopener" target="_blank">DV</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://www.apache.org/index.html#projects-list" title="http:&#x2F;&#x2F;www.apache.org&#x2F;index.html#projects-list" rel="noopener" target="_blank">Apache</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://stackoverflow.com/" title="https:&#x2F;&#x2F;stackoverflow.com&#x2F;" rel="noopener" target="_blank">StackOverflow</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://metacademy.org/" title="https:&#x2F;&#x2F;metacademy.org&#x2F;" rel="noopener" target="_blank">Metacademy</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://www.alloyteam.com/nav/" title="http:&#x2F;&#x2F;www.alloyteam.com&#x2F;nav&#x2F;" rel="noopener" target="_blank">WebNav</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://www.36zhen.com/t?id=3448" title="http:&#x2F;&#x2F;www.36zhen.com&#x2F;t?id&#x3D;3448" rel="noopener" target="_blank">前端书籍资料</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://ife.baidu.com/" title="http:&#x2F;&#x2F;ife.baidu.com&#x2F;" rel="noopener" target="_blank">百度前端</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://wf.uisdc.com/cn/" title="http:&#x2F;&#x2F;wf.uisdc.com&#x2F;cn&#x2F;" rel="noopener" target="_blank">G前端开发基础</a>
        </li>
    </ul>
  </div>

     
	<!--网易云音乐-->
	  <div id="music163player">
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1002994&auto=1&height=66"></iframe>
	  </div>
      </div>

    </div>
  </aside>

  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Brooks.H.Joshua</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    <span title="Symbols count total">1.1m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    <span title="Reading time total">16:28</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.1
  </div>


        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  



<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>

</html>
